---
layout: post
title:  "The GitOps Journey - part 1 - Building containers"
date:   2023-09-05
cover_image: 
author: Kaj Fehlhaber
---
# Github Actions basics
In the past couple of months, I've been part a journey which led us to incrementally automate more and more of a service deployed in Kubernetes.
During this period it became clear that there is a lot of talk about GitOps, but not very many hands-on, concrete, blogs and examples on the matter.

This is my attempt at contributing this area.

This will be the first part of a series of blog posts which I will be publishing where I will be building examples of real world CI/CD tooling.
The posts will follow the process of iteratively adding functionality to the pipeline. Starting with this post with a simple setup without any
versioning of Infrastructure-as-Code (IaC) or being able to handle multiple stages.

## GitOps - what is it?
In short GitOps basically means that everything that you see in the trunk of a repository is also what is deployed.
It's much like Kubernetes works; you specify a *desired state* and the system tries to reach this state by deploying or tearing down resources.

There are some different definitions regarding GitOps, but it usually boils down to:

- Infrastructure-as-Code
- Pull Requests to deploy changes
- Highly evolved CI/CD

And it makes perfect sense, since you want these parts to work in tandem in order to give the result you want: To deploy your service by simply
merging a pull request, automatically having it scanned for vulnerabilities and having an audit trail out-of-the box.

Unfortunately, there is no one-size fits all solution out there, so setting up a repository or multiple repositories to enable GitOps is not trivial.
Different technologies need different approaches, where CI/CD pipelines are built in a way to make a repository act as a GitOps repository.
Let's dive into an example with some concrete technologies and the challenges and solutions to them!

## The target setup
For this example, I will be using some popular tools and technologies when it comes to cloud computing.

The setup consists of:

- *Containers* for applications
- *CodeQL* & *Github Advanced Security* for vulnerability scanning
- *Helm* charts to package *Kubernetes* resources
- *ArgoCD* for deploying our Helm charts
- *Terraform* (or *OpenTofu*) for cloud-specific resources
- *Github Actions* as the CI/CD base which glues all together

This can become a quite daunting task in a complex environment, so we'll split it up in this series in order to focus on *one thing at a time*.
The focus area of the first part is therefore to just be able to create the *base flow for building containers!*

## Keep your main sane!

<br>
<br>
<br>
![](/assets/images/kaj.jpg){:style="margin-left: 0px;margin-right: auto;"}
**Kaj Fehlhaber**<br>
Freelancing Software Consultant<br>
_Accelerating the DevOps Journey of Teams!_
